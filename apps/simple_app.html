<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Example Registration Application</title>
    <meta name="viewport" content="width=device-width">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/foundation/5.3.1/css/foundation.min.css">
    <script src="http://code.jquery.com/jquery-1.11.1.min.js" type="text/javascript"></script>
    <script src="https://www.allplayers.com/sites/all/libraries/allplayers.js/bin/allplayers.app.client.min.js" type="text/javascript"></script>
    <script type="text/javascript">

      // Establish a connection with the parent.
      var parent = $.seamless.connect({
        url: allplayers.base64.decode($.SeamlessBase.getParam('ehost')),
        container: '#app',
        requireCookies: true
      });

      // Receive the registration object.
      parent.receive('getRegistration', function(data) {
        console.log(data);
      });

      $('.donation a').click(function(event) {
        event.preventDefault();
        parent.send({
          type: 'addProduct',
          data: {
            'product_uuid': $(this).attr('product'),
            'title': $(this).attr('product-title'),
            'price': $(this).attr('price'),
            'quantity': 1
          }
        });
      });

    </script>
  </head>
  <body>
    <h2>Hello!</h2>
    <div class="panel">
      <h2>Here are some great products!!</h2>
      <a href="#" price="2000" product="08230195-a612-5384-61f6-9db28e926a78" product-title="$20 Product" class="button [radius round]">$20 Product</a>
      <a href="#" price="10000" product="08230195-a612-5384-61f6-9db28e926a78" product-title="$100 Product" class="button [radius round]">$100 Product</a>
      <a href="#" price="100000" product="08230195-a612-5384-61f6-9db28e926a78" product-title="$1000 Product" class="button [radius round]">$1000 Product</a>
    </div>

    <div class="panel">
      <h2>Here are some more products!!</h2>
      <a href="#" price="2000" product="27408c93-379a-bfe4-c9ed-50dd4e71fb39" product-title="$20 Other Product" class="button [radius round]">$20 Other Product</a>
      <a href="#" price="10000" product="27408c93-379a-bfe4-c9ed-50dd4e71fb39" product-title="$100 Other Product" class="button [radius round]">$100 Other Product</a>
      <a href="#" price="100000" product="27408c93-379a-bfe4-c9ed-50dd4e71fb39" product-title="$1000 Other Product" class="button [radius round]">$1000 Other Product</a>
    </div>
  </body>
</html>
